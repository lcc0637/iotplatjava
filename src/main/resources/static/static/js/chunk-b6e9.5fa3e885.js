(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b6e9"],{XLZo:function(a,t,e){"use strict";e.r(t);var r=e("gDS+"),n=e.n(r),c={name:"devices",mixins:[e("y2a5").a],components:{},props:{},data:function(){return{cameraData:[],cameraTotalRec:0,cameraTotalPage:0,cameraRecOfPage:10,cameraCurPage:1,cameraCbPage:this.gen_list_cb("camera"),cameraQueryArr:[],cameraQueryInit:[],cameraMultiSel:[]}},mounted:function(){var a=this,t={_hy:"camerasync",qps:[{name:"title",val:"",op:"like"}],rop:this.cameraRecOfPage,cp:this.cameraCurPage};this.callSrvAct("/devicesync",t).then(function(t){console.log("返回值",t),a.cameraData=t.data.pageData,a.cameraTotalRec=t.data.totalRec})},methods:{cameraSizeChange:function(a){var t=this,e={_hy:"camerasync",qps:[{name:"title",val:"",op:"like"}],rop:a,cp:this.cameraCurPage};this.callSrvAct("/devicesync",e).then(function(a){console.log("返回值",a),t.cameraData=a.data.pageData,t.cameraTotalRec=a.data.totalRec})},cameraCurChange:function(a){var t=this,e={_hy:"camerasync",qps:[{name:"title",val:"",op:"like"}],rop:this.cameraRecOfPage,cp:a};this.callSrvAct("/devicesync",e).then(function(a){console.log("返回值",a),t.cameraData=a.data.pageData,t.cameraTotalRec=a.data.totalRec})},handleChange:function(a){this.cameraMultiSel=a,console.log(this.cameraMultiSel)},add:function(){var a=this;console.log(this.cameraMultiSel);var t=JSON.parse(n()(this.cameraMultiSel[0]));console.log(t),"1"==t.status?t.status="运行中":"0"==t.status&&(t.status="关闭");var e={id:0,title:t.cameraName,region_id:0,region_title:t.regionPath,pos:"",resolution:"",url:"",codec:"",scene:"",framerate:"",corp:t.firmType,videoa:t.hikUrl,state:t.status,algorithms:"",algorithms_id:0,_hy:"cameraadd"};this.callSrvAct("/act",e).then(function(t){console.log("后台返回",t),a.$emit("submitOk")})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},i=(e("zSQc"),e("KHd+")),o=Object(i.a)(c,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("el-container",{attrs:{direction:"vertical"}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{"margin-right":"10px"}},[e("span",[a._v("设备名称\n            ")]),a._v(" "),e("el-input",{staticStyle:{width:"200px"}})],1),a._v(" "),e("div",{staticStyle:{"margin-right":"10px"}},[e("el-button",[e("span",[a._v("搜索\n                ")])])],1),a._v(" "),e("div",[e("el-button",{on:{click:a.add}},[e("span",[a._v("添加\n                ")])])],1)]),a._v(" "),e("el-table",{ref:"camera",staticStyle:{margin:"10px 0px"},attrs:{"header-cell-style":{background:"rgba(241,246,254,1)",fontWeight:"500",color:"#333333",fontSize:"16px"},id:"camera",data:a.cameraData},on:{"selection-change":a.handleChange}},[e("el-table-column",{attrs:{type:"selection"}}),a._v(" "),e("el-table-column",{attrs:{label:"设备名称",prop:"cameraName"}})],1),a._v(" "),e("div",[e("el-pagination",{staticStyle:{"text-align":"center"},attrs:{total:a.cameraTotalRec,"page-count":a.cameraTotalPage,layout:"total, sizes, prev, pager, next"},on:{"size-change":a.cameraSizeChange,"current-change":a.cameraCurChange}})],1)],1)},[],!1,null,"a238e6fe",null);o.options.__file="index.vue";t.default=o.exports},Z81W:function(a,t,e){},y2a5:function(a,t,e){"use strict";var r=e("gDS+"),n=e.n(r),c=e("4d7F"),i=e.n(c);t.a={methods:{cb_null:function(a){return!1},cb_goBack:function(a){return this.$router.go(-1),!0},cb_success:function(a){return!(!a.status||"SUCCESS"!=a.status)||(this.$message.error(a.msg),!1)},cb_showMess:function(a){return this.$message.success(a.msg),!0},gen_sameValue:function(a,t){return function(e,r,n){r!=a?n(new Error(t)):n()}},refreshCaptcha:function(a){a.preventDefault(),a.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(a){return a.length<1?"":a=a.indexOf("?")>-1?a+"&Authorization="+this.apiSrv.token:a+"?Authorization="+this.apiSrv.token},callServer:function(a,t,e){var r=this;this.apiSrv.callServer(a,t).then(function(a){if(console.log("res ------",a),e)for(var t=0;t<e.length;t++){if(e[t])if(!e[t](a))break}}).catch(function(a){console.log("err:",a),r.$message.error(a)})},callSrvAct:function(a,t){var e=this;return new i.a(function(r,n){e.apiSrv.callServer(a,t).then(function(a){a.status&&"SUCCESS"==a.status?r(a):(console.log("res:",a),e.$message.error(a.msg))}).catch(function(a){console.log("err:",a),e.$message.error(a)})})},gen_list_cb:function(a,t){var e=this;if(!a||a.length<1)return this.cb_null;var r=a+"Data",n=a+"TotalRec",c=a+"TotalPage",i=a+"RecOfPage",o=a+"CurPage";return function(a){return t&&1==t&&a.data.cp>1?e[r]=e[r].concat(a.data.pageData||[]):e[r]=a.data.pageData||[],e[n]=a.data.totalRec,e[i]=a.data.rop,e[o]=a.data.cp,e[c]=a.data.rop>0?Math.ceil(a.data.totalRec/a.data.rop):0,a.data.detailData&&(e[r+"dData"]=a.data.detailData||[]),!0}},gen_selmulti_change:function(a){var t=this;if(!a||a.length<1)return this.cb_null;var e=a+"MultiSel";return function(a){if(t[e]){for(var r=[],n=0;n<a.length;n++)r.push(a[n].id);t[e]=r}}},refreshPage2:function(a,t,e,r,c,i){var o=a+"QueryArr",s=a+"CbPage",l=JSON.parse(n()(this[o]));if(l&&l.length>0)for(var u=l.length-1;u>-1;u--)console.log("qpsArr[i].val",l[u].val,0==l[u].val,""!=l[u].val),0==l[u].val&&(console.log("i:",u),l.splice(u,1));console.log("qpsArr:",l,this[o]);var h={qps:l||"",rop:e,cp:r};return this[a+"SortParas"]&&(h.sps=this[a+"SortParas"]),h._hy=c,this.callServer(t,h,[this.cb_success,this[s],i])},refreshPage:function(a,t,e,r){var n=a+"RecOfPage",c=a+"CurPage";this[c]<1&&(this[c]=1),this.refreshPage2(a,t,this[n],this[c],e,r)},queryPageData:function(a,t,e,r,c,i){if(!a||a.length<1)return this.cb_null;var o=a+"QueryArr",s=JSON.parse(n()(this[o]));if(s&&s.length>0)for(var l=s.length-1;l>-1;l--)0==s[l].val&&s.splice(l,1);console.log("qpsArr:",s);var u={qps:s||[],rop:e,cp:r};return this[a+"SortParas"]&&(u.sps=this[a+"SortParas"]),u._hy=c,this.callServer(t,u,i)}}}},zSQc:function(a,t,e){"use strict";var r=e("Z81W");e.n(r).a}}]);