(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1067"],{SoS4:function(t,e,r){"use strict";r.r(e);var n=r("P2sY"),i=r.n(n),a={name:"regionedit",mixins:[r("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newRegionForm:{id:0,title:"",parent_id:0},regionForm:{},isInDialog:!1}},mounted:function(){this.pObj=i()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.regionForm=i()({},this.newRegionForm,this.pObj)):this.regionForm=i()({},this.newRegionForm,this.$route.params),console.log("123",this.paramsObj)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.regionForm=i()({},this.newRegionForm,this.pObj))},submit:function(){this.submitOrgForm("regionForm")},submitOrgFormImpl:function(t){var e=this,r=void 0,n=!0,a="";this[t].id>0?(r="/act",n=!1,a="regionup"):(r="/act",a="regionadd");var o=i()({},this[t]);o._hy=a,this.callSrvAct(r,o).then(function(t){e.isInDialog?(console.log("不跳转"),n?t.data&&t.data.inst?(console.log("1111111111"),e.$emit("submitOk",t.data.inst)):t.data&&(console.log("22222222222"),e.$emit("submitOk",t.data||{})):e.$emit("submitOk",o)):(console.log("跳转"),e.$router.go(-1))})},submitOrgForm:function(t){var e=this;this.$refs[t].validate(function(r){if(!r)return!1;e.submitOrgFormImpl(t)})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=i()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},o=(r("cJ8U"),r("KHd+")),s=Object(o.a)(a,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",{attrs:{direction:"vertical"}},[r("el-form",{ref:"regionForm",attrs:{model:t.regionForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"区域名称：",prop:"title"}},[r("el-input",{model:{value:t.regionForm.title,callback:function(e){t.$set(t.regionForm,"title",e)},expression:"regionForm.title"}})],1),t._v(" "),t._e()],1),t._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{staticStyle:{"background-color":"#317EF3"},on:{click:t.submit}},[r("span",{staticStyle:{color:"#ffffff"}},[t._v("提交\n                ")])])],1)],1)},[],!1,null,"6924530a",null);s.options.__file="index.vue";e.default=s.exports},cJ8U:function(t,e,r){"use strict";var n=r("gH9h");r.n(n).a},gH9h:function(t,e,r){},y2a5:function(t,e,r){"use strict";var n=r("gDS+"),i=r.n(n),a=r("4d7F"),o=r.n(a);e.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,e){return function(r,n,i){n!=t?i(new Error(e)):i()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,e,r){var n=this;this.apiSrv.callServer(t,e).then(function(t){if(console.log("res ------",t),r)for(var e=0;e<r.length;e++){if(!r[e](t))break}}).catch(function(t){console.log("err:",t),n.$message.error(t)})},callSrvAct:function(t,e){var r=this;return new o.a(function(n,i){r.apiSrv.callServer(t,e).then(function(t){t.status&&"SUCCESS"==t.status?n(t):(console.log("res:",t),r.$message.error(t.msg))}).catch(function(t){console.log("err:",t),r.$message.error(t)})})},gen_list_cb:function(t,e){var r=this;if(!t||t.length<1)return this.cb_null;var n=t+"Data",i=t+"TotalRec",a=t+"TotalPage",o=t+"RecOfPage",s=t+"CurPage";return function(t){return e&&1==e&&t.data.cp>1?r[n]=r[n].concat(t.data.pageData||[]):r[n]=t.data.pageData||[],r[i]=t.data.totalRec,r[o]=t.data.rop,r[s]=t.data.cp,r[a]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(r[n+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var e=this;if(!t||t.length<1)return this.cb_null;var r=t+"MultiSel";return function(t){if(e[r]){for(var n=[],i=0;i<t.length;i++)n.push(t[i].id);e[r]=n}}},refreshPage2:function(t,e,r,n,a){var o=t+"QueryArr",s=t+"CbPage",c=JSON.parse(i()(this[o]));if(c&&c.length>0)for(var l=c.length-1;l>-1;l--)console.log("qpsArr[i].val",c[l].val,0==c[l].val,""!=c[l].val),0==c[l].val&&(console.log("i:",l),c.splice(l,1));console.log("qpsArr:",c,this[o]);var u={qps:c||"",rop:r,cp:n};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=a,this.callServer(e,u,[this.cb_success,this[s]])},refreshPage:function(t,e,r){var n=t+"RecOfPage",i=t+"CurPage";this[i]<1&&(this[i]=1),this.refreshPage2(t,e,this[n],this[i],r)},queryPageData:function(t,e,r,n,a){if(!t||t.length<1)return this.cb_null;var o=t+"QueryArr",s=JSON.parse(i()(this[o]));if(s&&s.length>0)for(var c=s.length-1;c>-1;c--)0==s[c].val&&s.splice(c,1);console.log("qpsArr:",s);var l={qps:s||[],rop:r,cp:n};return this[t+"SortParas"]&&(l.sps=this[t+"SortParas"]),this.callServer(e,l,a)}}}}}]);