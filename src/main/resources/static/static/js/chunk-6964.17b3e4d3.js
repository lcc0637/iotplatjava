(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6964"],{"7/YK":function(t,e,a){},VZk3:function(t,e,a){"use strict";a.r(e);var n=a("P2sY"),s=a.n(n),r={name:"startcamera",mixins:[a("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{pObj:{},success:!1,fail:!1,startuptext:""}},mounted:function(){this.pObj=s()({},this.paramsObj),console.log("传过来的",this.pObj),"运行中"==this.pObj.state&&(this.startuptext="启动完成",this.$refs.bar.percentage=100)},methods:{startup:function(){var t=this,e=this;this.count();var a={_hy:"cameraopen",cramea:[{name:"id",val:[this.pObj.id],op:"in"}]};console.log("upData:",a),this.callSrvAct("/act",a).then(function(a){console.log(a),"SUCCESS"==a.status?(e.success=!0,e.fail=!1,t.$emit("submitOk")):"FAILED"==a.status&&(e.startuptext="启动失败",e.success=!0,e.fail=!0)})},count:function(){var t=this;this.$refs.bar.percentage=0,this.interval=window.setInterval(function(){t.$refs.bar.percentage+=20,t.startuptext="启动中",t.$refs.bar.percentage>=100&&(window.clearInterval(t.interval),t.startuptext="启动完成")},500)}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){window.clearInterval(this.interval)},destroyed:function(){}},i=(a("Xb4H"),a("KHd+")),c=Object(i.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("el-main",[a("div",{staticStyle:{margin:"10px 0px"}},[a("span",{staticStyle:{"font-size":"20px","font-wieght":"800"}},[t._v("开启进度\n            ")])]),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("span",[t._v("摄像机接入：\n            ")]),t._v(" "),a("el-progress",{ref:"bar",staticStyle:{width:"200px"},attrs:{color:""}}),t._v(" "),a("span",{class:{active1:t.success,active2:t.fail}},[t._v(t._s(t.startuptext)+"\n            ")])],1),t._v(" "),a("div",{staticStyle:{margin:"10px 0px"}},[a("span",{staticStyle:{"font-size":"20px","font-wieght":"800"}},[t._v("摄像机信息\n            ")])]),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",[a("span",[t._v("场景：\n                ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.scene)+"\n                ")])]),t._v(" "),a("div",{staticStyle:{"margin-left":"200px"}},[a("span",[t._v("位置：\n                ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.pos)+"\n                ")])])]),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",[a("span",[t._v("分辨率及帧率：\n                ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.resolution+" "+t.pObj.framerate)+"\n                ")])]),t._v(" "),a("div",{staticStyle:{"margin-left":"200px"}},[a("span",[t._v("视频编码：\n                ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.codec)+"\n                ")])])]),t._v(" "),a("div",[a("span",[t._v("视频地址：\n            ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.videoa)+"\n            ")])]),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:t.startup}},[a("span",[t._v("启动\n                ")])]),t._v(" "),a("el-button",[a("span",[t._v("关闭\n                ")])])],1)])],1)},[],!1,null,"07e0ef1f",null);c.options.__file="index.vue";e.default=c.exports},Xb4H:function(t,e,a){"use strict";var n=a("7/YK");a.n(n).a},y2a5:function(t,e,a){"use strict";var n=a("gDS+"),s=a.n(n),r=a("4d7F"),i=a.n(r);e.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,e){return function(a,n,s){n!=t?s(new Error(e)):s()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,e,a){var n=this;this.apiSrv.callServer(t,e).then(function(t){if(console.log("res ------",t),a)for(var e=0;e<a.length;e++){if(!a[e](t))break}}).catch(function(t){console.log("err:",t),n.$message.error(t)})},callSrvAct:function(t,e){var a=this;return new i.a(function(n,s){a.apiSrv.callServer(t,e).then(function(t){t.status&&"SUCCESS"==t.status?n(t):(console.log("res:",t),a.$message.error(t.msg))}).catch(function(t){console.log("err:",t),a.$message.error(t)})})},gen_list_cb:function(t,e){var a=this;if(!t||t.length<1)return this.cb_null;var n=t+"Data",s=t+"TotalRec",r=t+"TotalPage",i=t+"RecOfPage",c=t+"CurPage";return function(t){return e&&1==e&&t.data.cp>1?a[n]=a[n].concat(t.data.pageData||[]):a[n]=t.data.pageData||[],a[s]=t.data.totalRec,a[i]=t.data.rop,a[c]=t.data.cp,a[r]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(a[n+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var e=this;if(!t||t.length<1)return this.cb_null;var a=t+"MultiSel";return function(t){if(e[a]){for(var n=[],s=0;s<t.length;s++)n.push(t[s].id);e[a]=n}}},refreshPage2:function(t,e,a,n,r){var i=t+"QueryArr",c=t+"CbPage",o=JSON.parse(s()(this[i]));if(o&&o.length>0)for(var l=o.length-1;l>-1;l--)console.log("qpsArr[i].val",o[l].val,0==o[l].val,""!=o[l].val),0==o[l].val&&(console.log("i:",l),o.splice(l,1));console.log("qpsArr:",o,this[i]);var u={qps:o||"",rop:a,cp:n};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=r,this.callServer(e,u,[this.cb_success,this[c]])},refreshPage:function(t,e,a){var n=t+"RecOfPage",s=t+"CurPage";this[s]<1&&(this[s]=1),this.refreshPage2(t,e,this[n],this[s],a)},queryPageData:function(t,e,a,n,r){if(!t||t.length<1)return this.cb_null;var i=t+"QueryArr",c=JSON.parse(s()(this[i]));if(c&&c.length>0)for(var o=c.length-1;o>-1;o--)0==c[o].val&&c.splice(o,1);console.log("qpsArr:",c);var l={qps:c||[],rop:a,cp:n};return this[t+"SortParas"]&&(l.sps=this[t+"SortParas"]),this.callServer(e,l,r)}}}}}]);