(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-59ff"],{"8ECN":function(t,e,a){},ib5d:function(t,e,a){"use strict";var r=a("8ECN");a.n(r).a},"nz8/":function(t,e,a){"use strict";a.r(e);var r=a("P2sY"),n=a.n(r),s={name:"labeledit",mixins:[a("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newTagsForm:{id:0,name:"",type:0,factory:0},tagsForm:{},labelarr:[{title:"优秀",value:"1"},{title:"良好",value:"2"}],factoryarr:["A长","B厂","C厂","D厂"]}},mounted:function(){this.pObj=n()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.tagsForm=n()({},this.newTagsForm,this.pObj)):this.tagsForm=n()({},this.newTagsForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.tagsForm=n()({},this.newTagsForm,this.pObj))},ret:function(){this.$router.push({name:"labelman"})},rest:function(){this.tags.Form={}},handleSubmitTags:function(){this.submitTagsForm("tagsForm")},submitTagsFormImpl:function(t){var e=this,a=void 0,r=!0,s="";this[t].id>0?(a="/act",r=!1,s="tagsup"):(a="/act",s="tagsadd");var i=n()({},this[t]);i._hy=s,this.callSrvAct(a,i).then(function(t){console.log("res:",t,e.isInDialog),e.isInDialog?r?t.data&&t.data.inst?e.$emit("submitOk",t.data.inst):t.data&&e.$emit("submitOk",t.data||{}):e.$emit("submitOk",i):e.$router.go(-1)})},submitTagsForm:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;console.log("哈哈哈",a),e.submitTagsFormImpl(t)})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=n()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},i=(a("ib5d"),a("KHd+")),o=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("el-form",{ref:"tagsForm",staticStyle:{padding:"20px"},attrs:{model:t.tagsForm}},[a("el-form-item",{attrs:{label:"员工姓名：",prop:"name",rules:{required:!0,trigger:"input"}}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.tagsForm.name,callback:function(e){t.$set(t.tagsForm,"name",e)},expression:"tagsForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"标签类型：",prop:"type",rules:{required:!0}}},[a("el-select",{model:{value:t.tagsForm.type,callback:function(e){t.$set(t.tagsForm,"type",e)},expression:"tagsForm.type"}},t._l(t.labelarr,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"厂商：",prop:"factory",rules:{required:!0}}},[a("el-select",{model:{value:t.tagsForm.factory,callback:function(e){t.$set(t.tagsForm,"factory",e)},expression:"tagsForm.factory"}},t._l(t.factoryarr,function(t,e){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:t.handleSubmitTags}},[a("span",[t._v("提交\n            ")])]),t._v(" "),a("el-button",{on:{click:t.rest}},[a("span",[t._v("重置\n            ")])]),t._v(" "),a("el-button",{on:{click:t.ret}},[a("span",[t._v("返回\n            ")])])],1)],1)},[],!1,null,"5e6074e0",null);o.options.__file="index.vue";e.default=o.exports},y2a5:function(t,e,a){"use strict";var r=a("gDS+"),n=a.n(r),s=a("4d7F"),i=a.n(s);e.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,e){return function(a,r,n){r!=t?n(new Error(e)):n()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,e,a){var r=this;this.apiSrv.callServer(t,e).then(function(t){if(console.log("res ------",t),a)for(var e=0;e<a.length;e++){if(a[e])if(!a[e](t))break}}).catch(function(t){console.log("err:",t),r.$message.error(t)})},callSrvAct:function(t,e){var a=this;return new i.a(function(r,n){a.apiSrv.callServer(t,e).then(function(t){t.status&&"SUCCESS"==t.status?r(t):(console.log("res:",t),a.$message.error(t.msg))}).catch(function(t){console.log("err:",t),a.$message.error(t)})})},gen_list_cb:function(t,e){var a=this;if(!t||t.length<1)return this.cb_null;var r=t+"Data",n=t+"TotalRec",s=t+"TotalPage",i=t+"RecOfPage",o=t+"CurPage";return function(t){return e&&1==e&&t.data.cp>1?a[r]=a[r].concat(t.data.pageData||[]):a[r]=t.data.pageData||[],a[n]=t.data.totalRec,a[i]=t.data.rop,a[o]=t.data.cp,a[s]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(a[r+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var e=this;if(!t||t.length<1)return this.cb_null;var a=t+"MultiSel";return function(t){if(e[a]){for(var r=[],n=0;n<t.length;n++)r.push(t[n].id);e[a]=r}}},refreshPage2:function(t,e,a,r,s,i){var o=t+"QueryArr",l=t+"CbPage",c=JSON.parse(n()(this[o]));if(c&&c.length>0)for(var u=c.length-1;u>-1;u--)console.log("qpsArr[i].val",c[u].val,0==c[u].val,""!=c[u].val),0==c[u].val&&(console.log("i:",u),c.splice(u,1));console.log("qpsArr:",c,this[o]);var h={qps:c||"",rop:a,cp:r};return this[t+"SortParas"]&&(h.sps=this[t+"SortParas"]),h._hy=s,this.callServer(e,h,[this.cb_success,this[l],i])},refreshPage:function(t,e,a,r){var n=t+"RecOfPage",s=t+"CurPage";this[s]<1&&(this[s]=1),this.refreshPage2(t,e,this[n],this[s],a,r)},queryPageData:function(t,e,a,r,s,i){if(!t||t.length<1)return this.cb_null;var o=t+"QueryArr",l=JSON.parse(n()(this[o]));if(l&&l.length>0)for(var c=l.length-1;c>-1;c--)0==l[c].val&&l.splice(c,1);console.log("qpsArr:",l);var u={qps:l||[],rop:a,cp:r};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=s,this.callServer(e,u,i)}}}}}]);