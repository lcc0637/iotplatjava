(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-578c"],{"0N7y":function(t,r,e){"use strict";e.r(r);var a=e("P2sY"),n=e.n(a),o={name:"promanedit",mixins:[e("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newPromanForm:{id:0,title:"",prodes:""},promanForm:{}}},mounted:function(){this.pObj=n()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.promanForm=n()({},this.newPromanForm,this.pObj)):this.promanForm=n()({},this.newPromanForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.promanForm=n()({},this.newPromanForm,this.pObj))},handleClick:function(){this.submitOrgForm("promanForm")},submitOrgFormImpl:function(t){var r=this,e=void 0,a=!0,o="";this[t].id>0?(e="/act",a=!1,o="promanup"):(e="/act",o="promanadd",this[t].state="关闭");var i=n()({},this[t]);i._hy=o,this.callSrvAct(e,i).then(function(t){r.isInDialog?(console.log("不跳转"),a?t.data&&t.data.inst?(console.log("1111111111"),r.$emit("submitOk",t.data.inst)):t.data&&(console.log("22222222222"),r.$emit("submitOk",t.data||{})):r.$emit("submitOk",i)):(console.log("跳转"),r.$router.go(-1))})},submitOrgForm:function(t){var r=this;this.$refs[t].validate(function(e){if(!e)return!1;r.submitOrgFormImpl(t)})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=n()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},i=(e("ZGgJ"),e("KHd+")),s=Object(i.a)(o,function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("el-container",{attrs:{direction:"vertical"}},[e("el-form",{ref:"promanForm",attrs:{model:t.promanForm}},[e("el-form-item",{attrs:{label:"产品名称：",prop:"title",rules:{required:!0,trigger:"input"}}},[e("el-input",{staticStyle:{width:"300px"},model:{value:t.promanForm.title,callback:function(r){t.$set(t.promanForm,"title",r)},expression:"promanForm.title"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"描述：",prop:"prodes",rules:{required:!0,trigger:"input"}}},[e("el-input",{staticStyle:{width:"300px"},model:{value:t.promanForm.prodes,callback:function(r){t.$set(t.promanForm,"prodes",r)},expression:"promanForm.prodes"}})],1)],1),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{on:{click:t.handleClick}},[e("span",[t._v("提交\n            ")])]),t._v(" "),e("el-button",[e("span",[t._v("取消\n            ")])])],1)],1)},[],!1,null,"55d052dc",null);s.options.__file="index.vue";r.default=s.exports},"1c6+":function(t,r,e){},ZGgJ:function(t,r,e){"use strict";var a=e("1c6+");e.n(a).a},y2a5:function(t,r,e){"use strict";var a=e("gDS+"),n=e.n(a),o=e("4d7F"),i=e.n(o);r.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,r){return function(e,a,n){a!=t?n(new Error(r)):n()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,r,e){var a=this;this.apiSrv.callServer(t,r).then(function(t){if(console.log("res ------",t),e)for(var r=0;r<e.length;r++){if(e[r])if(!e[r](t))break}}).catch(function(t){console.log("err:",t),a.$message.error(t)})},callSrvAct:function(t,r){var e=this;return new i.a(function(a,n){e.apiSrv.callServer(t,r).then(function(t){t.status&&"SUCCESS"==t.status?a(t):(console.log("res:",t),e.$message.error(t.msg))}).catch(function(t){console.log("err:",t),e.$message.error(t)})})},gen_list_cb:function(t,r){var e=this;if(!t||t.length<1)return this.cb_null;var a=t+"Data",n=t+"TotalRec",o=t+"TotalPage",i=t+"RecOfPage",s=t+"CurPage";return function(t){return r&&1==r&&t.data.cp>1?e[a]=e[a].concat(t.data.pageData||[]):e[a]=t.data.pageData||[],e[n]=t.data.totalRec,e[i]=t.data.rop,e[s]=t.data.cp,e[o]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(e[a+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var r=this;if(!t||t.length<1)return this.cb_null;var e=t+"MultiSel";return function(t){if(r[e]){for(var a=[],n=0;n<t.length;n++)a.push(t[n].id);r[e]=a}}},refreshPage2:function(t,r,e,a,o,i){var s=t+"QueryArr",c=t+"CbPage",l=JSON.parse(n()(this[s]));if(l&&l.length>0)for(var u=l.length-1;u>-1;u--)console.log("qpsArr[i].val",l[u].val,0==l[u].val,""!=l[u].val),0==l[u].val&&(console.log("i:",u),l.splice(u,1));console.log("qpsArr:",l,this[s]);var h={qps:l||"",rop:e,cp:a};return this[t+"SortParas"]&&(h.sps=this[t+"SortParas"]),h._hy=o,this.callServer(r,h,[this.cb_success,this[c],i])},refreshPage:function(t,r,e,a){var n=t+"RecOfPage",o=t+"CurPage";this[o]<1&&(this[o]=1),this.refreshPage2(t,r,this[n],this[o],e,a)},queryPageData:function(t,r,e,a,o,i){if(!t||t.length<1)return this.cb_null;var s=t+"QueryArr",c=JSON.parse(n()(this[s]));if(c&&c.length>0)for(var l=c.length-1;l>-1;l--)0==c[l].val&&c.splice(l,1);console.log("qpsArr:",c);var u={qps:c||[],rop:e,cp:a};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=o,this.callServer(r,u,i)}}}}}]);