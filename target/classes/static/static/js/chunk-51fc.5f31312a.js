(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51fc"],{"9ysq":function(t,e,a){"use strict";var n=a("td7c");a.n(n).a},PDX7:function(t,e,a){"use strict";a.r(e);var n={name:"viewdetails",mixins:[a("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{countData:[],countID:"",pObj:{},policeData:[]}},mounted:function(){var t=this;this.pObj=this.paramsObj,this.countID=this.pObj.algorithm_id;this.callSrvAct("/actq",{_hy:"algorithmacclist",qps:[{name:"title",val:"",op:"like"}]}).then(function(e){console.log("算法类型数据",e),t.countData=e.data.pageData,t.countData.splice(0,0,{id:-1,title:"全部"})}),this.callSrvAct("/alarmdtl",this.pObj.algorithm_id).then(function(e){console.log("返回值",e),t.policeData=e.data,console.log("整体",t.policeData)}),console.log("行",this.pObj)},methods:{countChange:function(){var t=this;console.log(this.countID),this.callSrvAct("/alarmdtl",this.countID).then(function(e){console.log("返回值",e),t.policeData=e.data,t.pObj=t.policeData[0]})},handlie:function(t){this.pObj=t,console.log(t.id)},time:function(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"  "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},falsePositive:function(){var t=this;this.callSrvAct("/misstate",[this.pObj.id]).then(function(e){console.log("返回值1",e),t.callSrvAct("/alarmdtl",t.countID).then(function(e){console.log("返回值2",e),t.policeData=e.data,console.log("返回值3",t.policeData),null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0]})})},end:function(){var t=this;this.callSrvAct("/confirmState",[this.pObj.id]).then(function(e){console.log("返回值1",e),t.callSrvAct("/alarmdtl",t.countID).then(function(e){console.log("返回值2",e),t.policeData=e.data,console.log("返回值3",t.policeData),null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0]})})},ends:function(){for(var t=this,e=[],a=0;a<this.policeData.length;a++)e.push(this.policeData[a].id);this.callSrvAct("/confirmState",e).then(function(e){console.log("返回值1",e),t.callSrvAct("/alarmdtl",t.countID).then(function(e){console.log("返回值2",e),t.policeData=e.data,console.log("返回值3",t.policeData),null==t.policeData?(t.pObj.camera_name="",t.pObj.algorithm_name="",t.pObj.alarm_time=""):t.pObj=t.policeData[0]})})}},watch:{},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},o=(a("9ysq"),a("KHd+")),i=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{attrs:{direction:"vertical"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("div",[a("span",[t._v("摄像机名称：\n                ")]),t._v(" "),a("span",[t._v(t._s(t.pObj.camera_name)+"\n                ")])]),t._v(" "),a("div",{staticStyle:{margin:"10px 0px"}},[a("span",[t._v("算法类型：\n                ")]),t._v(" "),a("el-select",{on:{change:t.countChange},model:{value:t.countID,callback:function(e){t.countID=e},expression:"countID"}},t._l(t.countData,function(t,e){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})}))],1)]),t._v(" "),a("div",[a("el-button",{staticStyle:{"background-color":"red"},on:{click:t.falsePositive}},[a("span",{staticStyle:{color:"#ffffff"}},[t._v("误报\n                ")])]),t._v(" "),a("el-button",{on:{click:t.end}},[a("span",[t._v("结束当前预警\n                ")])])],1)]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{width:"65%",height:"400px","background-color":"#E0E0E0",padding:"10px"}},[a("div",[a("span",[t._v(t._s(t.pObj.camera_name+"-"+t.pObj.algorithm_name)+"\n                ")]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#BEBEBE"}},[t._v(t._s(t.gcomm.v2datetimestr(t.pObj.alarm_time))+"\n                ")])]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"360px",border:"20px solid #ADADAD"}},[a("img",{attrs:{src:t.pObj.alarm_img,width:"100%",height:"100%"}})])]),t._v(" "),a("div",{staticStyle:{width:"30%",height:"400px",border:"1px solid #ADADAD",padding:"10px","background-color":"#E0E0E0"}},[a("div",{staticStyle:{"border-bottom":"1px solid #ADADAD","padding-bottom":"5px"}},[a("span",{staticStyle:{color:"#000000"}},[t._v("报警列表\n                ")]),t._v(" "),a("span",{staticStyle:{color:"blue",float:"right"},on:{click:t.ends}},[t._v("全部结束\n                ")])]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"360px","overflow-y":"auto"}},t._l(t.policeData,function(e,n){return a("div",{key:e.id,staticStyle:{"border-bottom":"1px solid #ADADAD","line-height":"30px","text-align":"center"},on:{click:function(a){t.handlie(e)}}},[a("span",[t._v(t._s(t.gcomm.v2datetimestr(e.alarm_time))+"\n                    ")])])}))])])])},[],!1,null,"53fcb40c",null);i.options.__file="index.vue";e.default=i.exports},td7c:function(t,e,a){},y2a5:function(t,e,a){"use strict";var n=a("gDS+"),o=a.n(n),i=a("4d7F"),c=a.n(i);e.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,e){return function(a,n,o){n!=t?o(new Error(e)):o()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,e,a){var n=this;this.apiSrv.callServer(t,e).then(function(t){if(console.log("res ------",t),a)for(var e=0;e<a.length;e++){if(a[e])if(!a[e](t))break}}).catch(function(t){console.log("err:",t),n.$message.error(t)})},callSrvAct:function(t,e){var a=this;return new c.a(function(n,o){a.apiSrv.callServer(t,e).then(function(t){t.status&&"SUCCESS"==t.status?n(t):(console.log("res:",t),a.$message.error(t.msg))}).catch(function(t){console.log("err:",t),a.$message.error(t)})})},gen_list_cb:function(t,e){var a=this;if(!t||t.length<1)return this.cb_null;var n=t+"Data",o=t+"TotalRec",i=t+"TotalPage",c=t+"RecOfPage",l=t+"CurPage";return function(t){return e&&1==e&&t.data.cp>1?a[n]=a[n].concat(t.data.pageData||[]):a[n]=t.data.pageData||[],a[o]=t.data.totalRec,a[c]=t.data.rop,a[l]=t.data.cp,a[i]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(a[n+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var e=this;if(!t||t.length<1)return this.cb_null;var a=t+"MultiSel";return function(t){if(e[a]){for(var n=[],o=0;o<t.length;o++)n.push(t[o].id);e[a]=n}}},refreshPage2:function(t,e,a,n,i,c){var l=t+"QueryArr",r=t+"CbPage",s=JSON.parse(o()(this[l]));if(s&&s.length>0)for(var u=s.length-1;u>-1;u--)console.log("qpsArr[i].val",s[u].val,0==s[u].val,""!=s[u].val),0==s[u].val&&(console.log("i:",u),s.splice(u,1));console.log("qpsArr:",s,this[l]);var h={qps:s||"",rop:a,cp:n};return this[t+"SortParas"]&&(h.sps=this[t+"SortParas"]),h._hy=i,this.callServer(e,h,[this.cb_success,this[r],c])},refreshPage:function(t,e,a,n){var o=t+"RecOfPage",i=t+"CurPage";this[i]<1&&(this[i]=1),this.refreshPage2(t,e,this[o],this[i],a,n)},queryPageData:function(t,e,a,n,i,c){if(!t||t.length<1)return this.cb_null;var l=t+"QueryArr",r=JSON.parse(o()(this[l]));if(r&&r.length>0)for(var s=r.length-1;s>-1;s--)0==r[s].val&&r.splice(s,1);console.log("qpsArr:",r);var u={qps:r||[],rop:a,cp:n};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=i,this.callServer(e,u,c)}}}}}]);