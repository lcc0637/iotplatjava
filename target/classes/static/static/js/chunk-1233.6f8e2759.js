(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1233"],{"/Tx/":function(t,e,r){"use strict";var a=r("V2n6");r.n(a).a},"21VN":function(t,e,r){"use strict";r.r(e);var a=r("P2sY"),i=r.n(a),n={name:"brimanedit",mixins:[r("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{newBrimaneditForm:{id:0,title:"",ipaddress:"",factory:0},brimaneditForm:{},factoryArr:["A厂","B厂","C厂"]}},mounted:function(){this.pObj=i()({},this.paramsObj),this.gcomm.mapLength(this.pObj)>0?(this.isInDialog=!0,this.brimaneditForm=i()({},this.newBrimaneditForm,this.pObj)):this.brimaneditForm=i()({},this.newBrimaneditForm,this.$route.params)},methods:{pObjChanged:function(){this.gcomm.mapLength(this.pObj)>0&&(this.isInDialog=!0,this.brimaneditForm=i()({},this.newBrimaneditForm,this.pObj))},handleClick:function(){this.submitBasemanForm("brimaneditForm")},submitBasemanForm:function(t){var e=this;this.$refs[t].validate(function(r){if(!r)return!1;e.submitBasemanFormImpl(t)})},submitBasemanFormImpl:function(t){var e=this,r=void 0,a=!0,n="";this[t].id>0?(r="/act",a=!1,n="brimanup"):(r="/act",n="brimanadd");var s=i()({},this[t]);s._hy=n,this.callSrvAct(r,s).then(function(t){console.log("res:",t,e.isInDialog),e.isInDialog?a?t.data&&t.data.inst?e.$emit("submitOk",t.data.inst):t.data&&e.$emit("submitOk",t.data||{}):e.$emit("submitOk",s):e.$router.go(-1)})},goback:function(){this.$router.push({name:"briman"})}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=i()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},s=(r("/Tx/"),r("KHd+")),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",{attrs:{direction:"vertical"}},[r("el-form",{ref:"brimaneditForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.brimaneditForm}},[r("el-form-item",{attrs:{label:"设备名字：",prop:"title",rules:{required:!0,trigger:"input"}}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.brimaneditForm.title,callback:function(e){t.$set(t.brimaneditForm,"title",e)},expression:"brimaneditForm.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"IP地址：",prop:"ipaddress",rules:{required:!0,trigger:"input"}}},[r("el-input",{staticStyle:{width:"300px"},model:{value:t.brimaneditForm.ipaddress,callback:function(e){t.$set(t.brimaneditForm,"ipaddress",e)},expression:"brimaneditForm.ipaddress"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"厂商：",prop:"factory",rules:{required:!0}}},[r("el-select",{model:{value:t.brimaneditForm.factory,callback:function(e){t.$set(t.brimaneditForm,"factory",e)},expression:"brimaneditForm.factory"}},t._l(t.factoryArr,function(t,e){return r("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),r("div",{staticStyle:{"margin-left":"30px","margin-top":"20px","text-align":"center"}},[r("el-button",{on:{click:t.goback}},[r("span",[t._v("返回\n            ")])]),t._v(" "),r("el-button",{on:{click:t.handleClick}},[r("span",[t._v("保存\n            ")])])],1)],1)},[],!1,null,"0eaee6aa",null);o.options.__file="index.vue";e.default=o.exports},V2n6:function(t,e,r){},y2a5:function(t,e,r){"use strict";var a=r("gDS+"),i=r.n(a),n=r("4d7F"),s=r.n(n);e.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,e){return function(r,a,i){a!=t?i(new Error(e)):i()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,e,r){var a=this;this.apiSrv.callServer(t,e).then(function(t){if(console.log("res ------",t),r)for(var e=0;e<r.length;e++){if(r[e])if(!r[e](t))break}}).catch(function(t){console.log("err:",t),a.$message.error(t)})},callSrvAct:function(t,e){var r=this;return new s.a(function(a,i){r.apiSrv.callServer(t,e).then(function(t){t.status&&"SUCCESS"==t.status?a(t):(console.log("res:",t),r.$message.error(t.msg))}).catch(function(t){console.log("err:",t),r.$message.error(t)})})},gen_list_cb:function(t,e){var r=this;if(!t||t.length<1)return this.cb_null;var a=t+"Data",i=t+"TotalRec",n=t+"TotalPage",s=t+"RecOfPage",o=t+"CurPage";return function(t){return e&&1==e&&t.data.cp>1?r[a]=r[a].concat(t.data.pageData||[]):r[a]=t.data.pageData||[],r[i]=t.data.totalRec,r[s]=t.data.rop,r[o]=t.data.cp,r[n]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(r[a+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var e=this;if(!t||t.length<1)return this.cb_null;var r=t+"MultiSel";return function(t){if(e[r]){for(var a=[],i=0;i<t.length;i++)a.push(t[i].id);e[r]=a}}},refreshPage2:function(t,e,r,a,n,s){var o=t+"QueryArr",c=t+"CbPage",l=JSON.parse(i()(this[o]));if(l&&l.length>0)for(var u=l.length-1;u>-1;u--)console.log("qpsArr[i].val",l[u].val,0==l[u].val,""!=l[u].val),0==l[u].val&&(console.log("i:",u),l.splice(u,1));console.log("qpsArr:",l,this[o]);var m={qps:l||"",rop:r,cp:a};return this[t+"SortParas"]&&(m.sps=this[t+"SortParas"]),m._hy=n,this.callServer(e,m,[this.cb_success,this[c],s])},refreshPage:function(t,e,r,a){var i=t+"RecOfPage",n=t+"CurPage";this[n]<1&&(this[n]=1),this.refreshPage2(t,e,this[i],this[n],r,a)},queryPageData:function(t,e,r,a,n,s){if(!t||t.length<1)return this.cb_null;var o=t+"QueryArr",c=JSON.parse(i()(this[o]));if(c&&c.length>0)for(var l=c.length-1;l>-1;l--)0==c[l].val&&c.splice(l,1);console.log("qpsArr:",c);var u={qps:c||[],rop:r,cp:a};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=n,this.callServer(e,u,s)}}}}}]);