(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d5c"],{Ro1m:function(t,s,r){},T6TZ:function(t,s,r){"use strict";r.r(s);var e=r("P2sY"),a=r.n(e),o={name:"restartcamera",mixins:[r("y2a5").a],components:{},props:{paramsObj:{type:Object,default:function(){return{}}}},data:function(){return{pObj:{},success:!1,fail:!1,progress1:0,progress2:0,progress3:0,progress4:0,barcolor1:"",barcolor2:"",barcolor3:"",barcolor4:"",closingtext1:"",closingtext2:"",startuptext1:"",startuptext2:"",barstate1:"",barstate2:""}},mounted:function(){this.pObj=a()({},this.paramsObj),console.log("传过来的",this.pObj),this.restart()},methods:{restart:function(){var t=this,s=this,r={_hy:"camerarestart",qps:[{name:"id",val:[this.pObj.id],op:"in"}]};console.log("upData:",r),this.callSrvAct("/devicerestart",r).then(function(r){console.log("后台返回值",r),"SUCCESS"==r.data[0].result?(t.count("SUCCESS",r.data),s.success=!0,s.fail=!1,s.barcolor1="green",s.barcolor2="green",s.barcolor3="green",s.barcolor4="green",t.$emit("submitOk")):"FAILD"==r.data[0].result&&(t.count("FAILD",r.data),s.success=!0,s.fail=!0,s.barcolor1="red",s.barcolor2="red",s.barcolor3="red",s.barcolor4="red")})},count:function(t,s){var r=this,e=this;e.progress1=0,e.progress2=0,this.interval=window.setInterval(function(){e.progress1+=40,e.progress2+=40,e.closingtext1="断开中",e.closingtext2="关闭中",e.progress1>=100&&e.progress2>=100&&(e.progress1=100,e.progress2=100,window.clearInterval(e.interval),console.log(t),"SUCCESS"==t?(e.barstate1="success",e.closingtext1="断开完成",e.closingtext2="关闭完成"):"FAILD"==t&&(e.barstate1="exception",e.closingtext1="断开失败",e.closingtext2="关闭失败"),r.count1(t,s))},500)},count1:function(t,s){var r=this,e=this;e.progress3=0,e.progress4=0,this.interval1=window.setInterval(function(){e.progress3+=40,e.progress4+=40,e.startuptext1="接入中",e.startuptext2="开启中",e.progress3>=100&&e.progress4>=100&&(e.progress3=100,e.progress4=100,window.clearInterval(e.interval1),console.log(t),"SUCCESS"==t?(e.barstate2="success",e.startuptext1="接入完成",e.startuptext2="开启完成",r.$emit("submitClose",{progress1:e.progress1,progress2:e.progress2,progress3:e.progress3,progress4:e.progress4,barstate1:e.barstate1,barstate2:e.barstate2,barcolor1:e.barcolor1,barcolor2:e.barcolor2,barcolor3:e.barcolor3,barcolor4:e.barcolor4,status:t})):"FAILD"==t&&(e.barstate2="exception",e.startuptext1="接入失败",e.startuptext2="开启失败",r.$emit("submitClose",{progress1:e.progress1,progress2:e.progress2,progress3:e.progress3,progress4:e.progress4,barstate1:e.barstate1,barstate2:e.barstate2,barcolor1:e.barcolor1,barcolor2:e.barcolor2,barcolor3:e.barcolor3,barcolor4:e.barcolor4,status:t,msg:s[0].msg})))},500)},colse:function(){this.$emit("submitClose")}},watch:{paramsObj:function(t){this.pObj.id!=this.paramsObj.id&&(this.pObj=a()({},this.paramsObj),this.pObjChanged())}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){window.clearInterval(this.interval),window.clearInterval(this.interval1)},destroyed:function(){}},n=(r("YQa9"),r("KHd+")),i=Object(n.a)(o,function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("el-container",{attrs:{direction:"vertical"}},[r("el-main",[r("div",{staticStyle:{margin:"10px 0px"}},[r("span",{staticStyle:{"font-size":"20px","font-wieght":"800"}},[t._v("关闭进度\n            ")])]),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("span",[t._v("断开摄像机：\n            ")]),t._v(" "),r("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progress1,status:t.barstate1,color:t.barcolor1}}),t._v(" "),r("span",{class:{active1:t.success,active2:t.fail}},[t._v(t._s(t.closingtext1)+"\n            ")])],1),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("span",[t._v("推流模块关闭：\n            ")]),t._v(" "),r("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progress2,status:t.barstate1,color:t.barcolor2}}),t._v(" "),r("span",{class:{active1:t.success,active2:t.fail}},[t._v(t._s(t.closingtext2)+"\n            ")])],1),t._v(" "),r("div",{staticStyle:{margin:"10px 0px"}},[r("span",{staticStyle:{"font-size":"20px","font-wieght":"800"}},[t._v("开启进度\n            ")])]),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("span",[t._v("摄像机接入：\n            ")]),t._v(" "),r("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progress3,status:t.barstate2,color:t.barcolor3}}),t._v(" "),r("span",{class:{active1:t.success,active2:t.fail}},[t._v(t._s(t.startuptext1)+"\n            ")])],1),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("span",[t._v("推流模块开启：\n            ")]),t._v(" "),r("el-progress",{staticStyle:{width:"200px"},attrs:{percentage:t.progress4,status:t.barstate2,color:t.barcolor4}}),t._v(" "),r("span",{class:{active1:t.success,active2:t.fail}},[t._v(t._s(t.startuptext2)+"\n            ")])],1),t._v(" "),r("div",{staticStyle:{margin:"10px 0px"}},[r("span",{staticStyle:{"font-size":"20px","font-wieght":"800"}},[t._v("摄像机信息\n            ")])]),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("div",[r("span",[t._v("场景：\n                ")]),t._v(" "),r("span",[t._v(t._s(t.pObj.scene)+"\n                ")])]),t._v(" "),r("div",{staticStyle:{"margin-left":"200px"}},[r("span",[t._v("位置：\n                ")]),t._v(" "),r("span",[t._v(t._s(t.pObj.pos)+"\n                ")])])]),t._v(" "),r("div",{staticStyle:{display:"flex"}},[r("div",[r("span",[t._v("分辨率及帧率：\n                ")]),t._v(" "),r("span",[t._v(t._s(t.pObj.resolution+" "+t.pObj.framerate)+"\n                ")])]),t._v(" "),r("div",{staticStyle:{"margin-left":"200px"}},[r("span",[t._v("视频编码：\n                ")]),t._v(" "),r("span",[t._v(t._s(t.pObj.codec)+"\n                ")])])]),t._v(" "),r("div",[r("span",[t._v("视频地址：\n            ")]),t._v(" "),r("span",[t._v(t._s(t.pObj.videoa)+"\n            ")])]),t._v(" "),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{on:{click:t.colse}},[r("span",[t._v("关闭\n                ")])])],1)])],1)},[],!1,null,"cbae9b6c",null);i.options.__file="index.vue";s.default=i.exports},YQa9:function(t,s,r){"use strict";var e=r("Ro1m");r.n(e).a},y2a5:function(t,s,r){"use strict";var e=r("gDS+"),a=r.n(e),o=r("4d7F"),n=r.n(o);s.a={methods:{cb_null:function(t){return!1},cb_goBack:function(t){return this.$router.go(-1),!0},cb_success:function(t){return!(!t.status||"SUCCESS"!=t.status)||(this.$message.error(t.msg),!1)},cb_showMess:function(t){return this.$message.success(t.msg),!0},gen_sameValue:function(t,s){return function(r,e,a){e!=t?a(new Error(s)):a()}},refreshCaptcha:function(t){t.preventDefault(),t.target.src=this.hysrvport+"/captcha?"+Math.random()},add_authToken:function(t){return t.length<1?"":t=t.indexOf("?")>-1?t+"&Authorization="+this.apiSrv.token:t+"?Authorization="+this.apiSrv.token},callServer:function(t,s,r){var e=this;this.apiSrv.callServer(t,s).then(function(t){if(console.log("res ------",t),r)for(var s=0;s<r.length;s++){if(r[s])if(!r[s](t))break}}).catch(function(t){console.log("err:",t),e.$message.error(t)})},callSrvAct:function(t,s){var r=this;return new n.a(function(e,a){r.apiSrv.callServer(t,s).then(function(t){t.status&&"SUCCESS"==t.status?e(t):(console.log("res:",t),r.$message.error(t.msg))}).catch(function(t){console.log("err:",t),r.$message.error(t)})})},gen_list_cb:function(t,s){var r=this;if(!t||t.length<1)return this.cb_null;var e=t+"Data",a=t+"TotalRec",o=t+"TotalPage",n=t+"RecOfPage",i=t+"CurPage";return function(t){return s&&1==s&&t.data.cp>1?r[e]=r[e].concat(t.data.pageData||[]):r[e]=t.data.pageData||[],r[a]=t.data.totalRec,r[n]=t.data.rop,r[i]=t.data.cp,r[o]=t.data.rop>0?Math.ceil(t.data.totalRec/t.data.rop):0,t.data.detailData&&(r[e+"dData"]=t.data.detailData||[]),!0}},gen_selmulti_change:function(t){var s=this;if(!t||t.length<1)return this.cb_null;var r=t+"MultiSel";return function(t){if(s[r]){for(var e=[],a=0;a<t.length;a++)e.push(t[a].id);s[r]=e}}},refreshPage2:function(t,s,r,e,o,n){var i=t+"QueryArr",c=t+"CbPage",l=JSON.parse(a()(this[i]));if(l&&l.length>0)for(var p=l.length-1;p>-1;p--)console.log("qpsArr[i].val",l[p].val,0==l[p].val,""!=l[p].val),0==l[p].val&&(console.log("i:",p),l.splice(p,1));console.log("qpsArr:",l,this[i]);var u={qps:l||"",rop:r,cp:e};return this[t+"SortParas"]&&(u.sps=this[t+"SortParas"]),u._hy=o,this.callServer(s,u,[this.cb_success,this[c],n])},refreshPage:function(t,s,r,e){var a=t+"RecOfPage",o=t+"CurPage";this[o]<1&&(this[o]=1),this.refreshPage2(t,s,this[a],this[o],r,e)},queryPageData:function(t,s,r,e,o,n){if(!t||t.length<1)return this.cb_null;var i=t+"QueryArr",c=JSON.parse(a()(this[i]));if(c&&c.length>0)for(var l=c.length-1;l>-1;l--)0==c[l].val&&c.splice(l,1);console.log("qpsArr:",c);var p={qps:c||[],rop:r,cp:e};return this[t+"SortParas"]&&(p.sps=this[t+"SortParas"]),p._hy=o,this.callServer(s,p,n)}}}}}]);